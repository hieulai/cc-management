$('#categories_template-placeholder').html('<%= escape_javascript(select(@type.to_sym, :categories_template_id, @project.estimates.any? ? @project.estimates.first.template.categories_templates.sort_by { |c| c.category.name }.map { |c| [c.category.name, c.id] } : Array.new, {:include_blank => true}, :data => {:remote => true, :url => url_for(:action => "show_categories_template_items", :id => @purchasable.id, :type => @purchasable.class.name )})) %>');
$('select[name="<%=@type.to_sym %>[categories_template_id]"]').change();